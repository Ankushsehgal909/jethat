<!-- Scroll Features Component -->
<section id="scroll-features-section" class="scroll-features-section position-relative overflow-hidden">
    <div class="scroll-container" data-scroll-container>
        <div class="sticky-section">
            <div class="container-fluid">
                <!-- Header -->
                <div class="text-center mb-5">
                    <h2 class="display-3 fw-bold mb-4">
                        The AI chatbot platform that scales with you
                    </h2>
                </div>

                <!-- Cards container -->
                <div class="cards-container">
                    <!-- Card 1: Advanced AI Technology -->
                    <div class="feature-card" data-index="0">
                        <div class="row align-items-center">
                            <!-- Left side - Content -->
                            <div class="col-lg-6">
                                <!-- Icon -->
                                <div class="icon-wrapper icon-blue text-white">
                                    <i class="bi bi-robot fs-4"></i>
                                </div>

                                <h3 class="h2 fw-bold mb-4">
                                    Advanced AI Technology
                                </h3>

                                <!-- Bullets -->
                                <ul class="list-unstyled mb-4">
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-blue"></span>
                                        <span class="text-muted">Powered by cutting-edge natural language processing</span>
                                    </li>
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-blue"></span>
                                        <span class="text-muted">Machine learning algorithms that improve over time</span>
                                    </li>
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-blue"></span>
                                        <span class="text-muted">Context-aware responses for natural conversations</span>
                                    </li>
                                </ul>

                                <!-- CTA -->
                                <a href="#" class="cta-button" onclick="console.log('Advanced AI Technology clicked'); return false;">
                                    <div class="cta-icon icon-blue">
                                        <i class="bi bi-robot"></i>
                                    </div>
                                    <span class="fw-semibold">Learn more</span>
                                </a>
                            </div>

                            <!-- Right side - Image -->
                            <div class="col-lg-6">
                                <img src="https://picsum.photos/400/300?random=1" alt="Advanced AI Technology"
                                    class="img-fluid feature-image" />
                            </div>
                        </div>
                    </div>

                    <!-- Card 2: Multi-language Support -->
                    <div class="feature-card" data-index="1">
                        <div class="row align-items-center">
                            <!-- Left side - Content -->
                            <div class="col-lg-6">
                                <!-- Icon -->
                                <div class="icon-wrapper icon-green text-white">
                                    <i class="bi bi-globe fs-4"></i>
                                </div>

                                <h3 class="h2 fw-bold mb-4">
                                    Multi-Language Support
                                </h3>

                                <!-- Bullets -->
                                <ul class="list-unstyled mb-4">
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-green"></span>
                                        <span class="text-muted">Build chatbots that communicate in multiple languages</span>
                                    </li>
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-green"></span>
                                        <span class="text-muted">Automatic language detection and translation</span>
                                    </li>
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-green"></span>
                                        <span class="text-muted">Seamless cross-language conversations</span>
                                    </li>
                                </ul>

                                <!-- CTA -->
                                <a href="#" class="cta-button" onclick="console.log('Multi-language Support clicked'); return false;">
                                    <div class="cta-icon icon-green">
                                        <i class="bi bi-globe"></i>
                                    </div>
                                    <span class="fw-semibold">Learn more</span>
                                </a>
                            </div>

                            <!-- Right side - Image -->
                            <div class="col-lg-6">
                                <img src="https://picsum.photos/400/300?random=2" alt="Multi-language Support"
                                    class="img-fluid feature-image" />
                            </div>
                        </div>
                    </div>
                    <!-- Card 3: Lightning Fast Performance -->
                    <div class="feature-card" data-index="2">
                        <div class="row align-items-center">
                            <!-- Left side - Content -->
                            <div class="col-lg-6">
                                <!-- Icon -->
                                <div class="icon-wrapper icon-yellow text-white">
                                    <i class="bi bi-lightning-fill fs-4"></i>
                                </div>

                                <h3 class="h2 fw-bold mb-4">
                                    Lightning-Fast Performance
                                </h3>

                                <!-- Bullets -->
                                <ul class="list-unstyled mb-4">
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-yellow"></span>
                                        <span class="text-muted">Optimized for instant response times</span>
                                    </li>
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-yellow"></span>
                                        <span class="text-muted">Handle thousands of concurrent conversations</span>
                                    </li>
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-yellow"></span>
                                        <span class="text-muted">Low-latency infrastructure worldwide</span>
                                    </li>
                                </ul>

                                <!-- CTA -->
                                <a href="#" class="cta-button" onclick="console.log('Lightning Fast Performance clicked'); return false;">
                                    <div class="cta-icon icon-yellow">
                                        <i class="bi bi-lightning-fill"></i>
                                    </div>
                                    <span class="fw-semibold">Learn more</span>
                                </a>
                            </div>

                            <!-- Right side - Image -->
                            <div class="col-lg-6">
                                <img src="https://picsum.photos/400/300?random=3" alt="Lightning Fast Performance"
                                    class="img-fluid feature-image" />
                            </div>
                        </div>
                    </div>

                    <!-- Card 4: Enterprise Security -->
                    <div class="feature-card" data-index="3">
                        <div class="row align-items-center">
                            <!-- Left side - Content -->
                            <div class="col-lg-6">
                                <!-- Icon -->
                                <div class="icon-wrapper icon-red text-white">
                                    <i class="bi bi-shield-fill-check fs-4"></i>
                                </div>

                                <h3 class="h2 fw-bold mb-4">
                                    Enterprise-Grade Security
                                </h3>

                                <!-- Bullets -->
                                <ul class="list-unstyled mb-4">
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-red"></span>
                                        <span class="text-muted">End-to-end encryption for all conversations</span>
                                    </li>
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-red"></span>
                                        <span class="text-muted">GDPR and SOC 2 compliant infrastructure</span>
                                    </li>
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-red"></span>
                                        <span class="text-muted">Role-based access control and audit logs</span>
                                    </li>
                                </ul>

                                <!-- CTA -->
                                <a href="#" class="cta-button" onclick="console.log('Enterprise Security clicked'); return false;">
                                    <div class="cta-icon icon-red">
                                        <i class="bi bi-shield-fill-check"></i>
                                    </div>
                                    <span class="fw-semibold">Learn more</span>
                                </a>
                            </div>

                            <!-- Right side - Image -->
                            <div class="col-lg-6">
                                <img src="https://picsum.photos/400/300?random=4" alt="Enterprise Security"
                                    class="img-fluid feature-image" />
                            </div>
                        </div>
                    </div>

                    <!-- Card 5: Analytics & Insights -->
                    <div class="feature-card" data-index="4">
                        <div class="row align-items-center">
                            <!-- Left side - Content -->
                            <div class="col-lg-6">
                                <!-- Icon -->
                                <div class="icon-wrapper icon-purple text-white">
                                    <i class="bi bi-graph-up fs-4"></i>
                                </div>

                                <h3 class="h2 fw-bold mb-4">
                                    Analytics & Insights
                                </h3>

                                <!-- Bullets -->
                                <ul class="list-unstyled mb-4">
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-purple"></span>
                                        <span class="text-muted">Real-time conversation analytics dashboard</span>
                                    </li>
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-purple"></span>
                                        <span class="text-muted">Track user engagement and satisfaction metrics</span>
                                    </li>
                                    <li class="d-flex align-items-start mb-3">
                                        <span class="bullet-point bullet-purple"></span>
                                        <span class="text-muted">AI-powered insights to improve performance</span>
                                    </li>
                                </ul>

                                <!-- CTA -->
                                <a href="#" class="cta-button" onclick="console.log('Analytics & Insights clicked'); return false;">
                                    <div class="cta-icon icon-purple">
                                        <i class="bi bi-graph-up"></i>
                                    </div>
                                    <span class="fw-semibold">Learn more</span>
                                </a>
                            </div>

                            <!-- Right side - Image -->
                            <div class="col-lg-6">
                                <img src="https://picsum.photos/400/300?random=5" alt="Analytics & Insights"
                                    class="img-fluid feature-image" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

  <style>
        .scroll-features-section {
            background: var(--section-bg-dark, linear-gradient(135deg, #1a1a1a, #2a2a2a));
            min-height: 100vh;
            position: relative;
            overflow: hidden;
        }

        [data-bs-theme="light"] .scroll-features-section {
            background: var(--section-bg-light, linear-gradient(135deg, #fff7ed, #ffffff, #fffbeb));
        }

        .scroll-container {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 400vh;
        }

        [data-bs-theme="dark"] .scroll-container {
            background: linear-gradient(135deg, #212529 0%, #343a40 100%);
        }

        .sticky-section {
            position: sticky;
            top: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .cards-container {
            position: relative;
            height: 700px;
        }

        .feature-card {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 1200px;
            background: var(--bg-card, #2A2A2A);
            border: 1px solid var(--bs-gray-700, #495057);
            border-radius: 1rem;
            box-shadow: 0 1rem 3rem rgba(0,0,0,.175);
            padding: 2rem;
            transition: all 0.3s ease;
            color: var(--text-primary, #FFFFFF);
        }

        [data-bs-theme="dark"] .feature-card {
            background: #343a40;
            border-color: #495057;
            color: #FFFFFF;
        }

        [data-bs-theme="light"] .feature-card {
            background: var(--bg-light-card, #FFFFFF);
            border-color: var(--bs-gray-300, #dee2e6);
            box-shadow: 0 1rem 3rem rgba(0,0,0,.1);
            color: var(--text-light-primary, #000000);
        }

        .scroll-features-section .icon-wrapper {
            width: 60px;
            height: 60px;
            border-radius: 0.75rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            box-shadow: 0 0.5rem 1rem rgba(0,0,0,.15);
        }

        .scroll-features-section .icon-blue { background-color: #0d6efd; }
        .scroll-features-section .icon-green { background-color: #198754; }
        .scroll-features-section .icon-yellow { background-color: #ffc107; }
        .scroll-features-section .icon-red { background-color: #dc3545; }
        .scroll-features-section .icon-purple { background-color: #6f42c1; }

        .scroll-features-section .bullet-point {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 0.75rem;
            margin-top: 0.5rem;
            flex-shrink: 0;
        }

        .scroll-features-section .bullet-blue { background-color: #0d6efd; }
        .scroll-features-section .bullet-green { background-color: #198754; }
        .scroll-features-section .bullet-yellow { background-color: #ffc107; }
        .scroll-features-section .bullet-red { background-color: #dc3545; }
        .scroll-features-section .bullet-purple { background-color: #6f42c1; }

        .scroll-features-section .cta-button {
            background: var(--bg-card, #2A2A2A);
            border: 1px solid var(--bs-gray-700, #495057);
            border-radius: 2rem;
            padding: 0.5rem 1rem;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: var(--text-primary, #FFFFFF);
            transition: all 0.3s ease;
            box-shadow: 0 0.25rem 0.5rem rgba(0,0,0,.1);
        }

        [data-bs-theme="light"] .scroll-features-section .cta-button {
            background: var(--bg-light-card, #FFFFFF);
            border-color: var(--bs-gray-300, #dee2e6);
            color: var(--text-light-primary, #000000);
        }

        .scroll-features-section .cta-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0.5rem 1rem rgba(0,0,0,.15);
            color: var(--text-primary, #FFFFFF);
        }

        [data-bs-theme="light"] .scroll-features-section .cta-button:hover {
            color: var(--text-light-primary, #000000);
        }

        .scroll-features-section .cta-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .scroll-features-section .feature-image {
            border-radius: 0.5rem;
            box-shadow: 0 0.5rem 1rem rgba(0,0,0,.15);
        }

        .scroll-features-section .text-muted {
            color: var(--text-muted, #B0B0B0) !important;
        }

        [data-bs-theme="light"] .scroll-features-section .text-muted {
            color: var(--text-light-muted, #666666) !important;
        }

        @media (max-width: 768px) {
            .scroll-features-section .feature-card {
                padding: 1.5rem;
            }
            
            .scroll-features-section .cards-container {
                height: auto;
                min-height: 600px;
            }
            
            .scroll-container {
                min-height: 200vh;
            }
        }
    </style>

    <script>
        // Global initialization function for scroll features
        window.initializeScrollFeatures = function() {
            const container = document.querySelector('[data-scroll-container]');
            const cards = document.querySelectorAll('#scroll-features-section .feature-card');
            
            if (!container || !cards.length) {
                console.warn('Scroll features elements not found');
                return;
            }
            
            const numCards = cards.length;
            const cardGap = 30;
            let ticking = false;

            function updateCards() {
                const start = container.offsetTop;
                const end = start + container.offsetHeight - window.innerHeight;
                let progress = 0;
                if (end > start) {
                    progress = Math.max(0, Math.min(1, (window.scrollY - start) / (end - start)));
                }

                cards.forEach((card, index) => {
                    const cardStart = index / numCards;
                    const cardEnd = (index + 0.5) / numCards;
                    const stackedPosition = index * cardGap;
                    const isFirst = index === 0;

                    // y position
                    let y;
                    if (progress <= cardStart) {
                        y = isFirst ? stackedPosition : 700;
                    } else if (progress >= cardEnd) {
                        y = stackedPosition;
                    } else {
                        const frac = (progress - cardStart) / (cardEnd - cardStart);
                        y = isFirst ? stackedPosition : 700 + frac * (stackedPosition - 700);
                    }

                    // opacity
                    let opacity = 1;
                    if (!isFirst) {
                        const fadeStart = cardStart;
                        const fadeEnd = cardStart + 0.1 / numCards;
                        if (progress <= fadeStart) {
                            opacity = 0;
                        } else if (progress < fadeEnd) {
                            opacity = (progress - fadeStart) / (fadeEnd - fadeStart);
                        } else {
                            opacity = 1;
                        }
                    }

                    // scale
                    let scale;
                    if (progress <= cardStart) {
                        scale = isFirst ? 1 : 0.85;
                    } else if (progress >= cardEnd) {
                        scale = 1;
                    } else {
                        const frac = (progress - cardStart) / (cardEnd - cardStart);
                        scale = isFirst ? 1 : 0.85 + frac * 0.15;
                    }

                    card.style.transform = `translateY(${y}px) scale(${scale})`;
                    card.style.opacity = opacity;
                    card.style.zIndex = index + 1;
                });

                ticking = false;
            }

            function onScroll() {
                if (!ticking) {
                    requestAnimationFrame(updateCards);
                    ticking = true;
                }
            }

            // Add scroll listener
            window.addEventListener('scroll', onScroll, { passive: true });
            
            // Initial call
            setTimeout(updateCards, 100);
            
            console.log('Scroll features initialized successfully');
        };

        // Auto-initialize if DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() {
                setTimeout(window.initializeScrollFeatures, 200);
            });
        } else {
            setTimeout(window.initializeScrollFeatures, 200);
        }
    </script>